var DTCharts=(()=>{var rt=Object.defineProperty;var ut=Object.getOwnPropertyDescriptor;var bt=Object.getOwnPropertyNames;var pt=Object.prototype.hasOwnProperty;var xt=($,e)=>{for(var t in e)rt($,t,{get:e[t],enumerable:!0})},Ct=($,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of bt(e))!pt.call($,o)&&o!==t&&rt($,o,{get:()=>e[o],enumerable:!(i=ut(e,o))||i.enumerable});return $};var St=$=>Ct(rt({},"__esModule",{value:!0}),$);var yt={};xt(yt,{BarChart:()=>U,BumpChart:()=>tt,DonutChart:()=>Q,HBarChart:()=>_,HeatmapChart:()=>Z,LineChart:()=>J,RadarChart:()=>j,StatCard:()=>z,create:()=>gt,getTheme:()=>at,init:()=>ht,midnight:()=>lt,sand:()=>st});var lt={name:"midnight",bg:"#0a0a0f",surface:"#141419",grid:"#1a1a22",textPrimary:"#f0f0f0",textSecondary:"#555566",textSource:"#333344",gradients:[["#c4b5fd","#f9a8d4"],["#93b8fd","#c4b5fd"],["#86efac","#93b8fd"],["#fdd08a","#f9a8d4"],["#fdba74","#fdd08a"],["#5eead4","#86efac"]],highlightGradient:["#f9a8d4","#93b8fd"],lineStroke:"#c4b5fd",lineFill:["rgba(196,181,253,0.35)","rgba(196,181,253,0)"],fontFamily:"'Space Grotesk', system-ui, sans-serif",monoFamily:"'SF Mono', 'Fira Code', monospace",grain:.055,grainTarget:"elements"},st={name:"sand",bg:"#ebe5d9",surface:"#e0dace",grid:"#d4cec2",textPrimary:"#1a1815",textSecondary:"#8a8478",textSource:"#b0a89c",gradients:[["#c4b5fd","#f9a8d4"],["#93b8fd","#c4b5fd"],["#86efac","#93b8fd"],["#fdd08a","#f9a8d4"],["#fdba74","#fdd08a"],["#5eead4","#86efac"]],highlightGradient:["#f9a8d4","#93b8fd"],lineStroke:"#c4b5fd",lineFill:["rgba(196,181,253,0.3)","rgba(196,181,253,0)"],fontFamily:"'Space Grotesk', system-ui, sans-serif",monoFamily:"'SF Mono', 'Fira Code', monospace",grain:.055,grainTarget:"elements"};function at($){return $==="sand"?st:lt}var W=class{canvas;ctx;config;theme;width;height;dpr;padding;animProgress=0;animFrame=0;bgSnapshot=null;constructor(e,t){let i=typeof e=="string"?document.querySelector(e):e;if(!i)throw new Error("DropThe Charts: container not found");this.config=t,this.theme=at(t.theme),this.dpr=window.devicePixelRatio||1,this.width=t.width||i.clientWidth||600,this.height=t.height||400,this.padding={top:60,right:24,bottom:48,left:24},this.canvas=document.createElement("canvas"),this.canvas.width=this.width*this.dpr,this.canvas.height=this.height*this.dpr,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.canvas.style.borderRadius="12px",i.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(this.dpr,this.dpr)}snapshotBackground(){this.bgSnapshot=this.ctx.getImageData(0,0,this.width*this.dpr,this.height*this.dpr)}drawGrain(){let{ctx:e,width:t,height:i,theme:o}=this,a=t*this.dpr,n=i*this.dpr,r=e.getImageData(0,0,a,n),s=r.data,g=this.bgSnapshot?.data,C=o.grainTarget==="elements"&&g,d=70;for(let l=0;l<s.length;l+=4)if(C){let f=Math.abs(s[l]-g[l]),h=Math.abs(s[l+1]-g[l+1]),v=Math.abs(s[l+2]-g[l+2]),w=f+h+v;if(w<8)continue;let S=Math.min(1,w/80),F=(Math.random()-.5)*d*S;s[l]=Math.min(255,Math.max(0,s[l]+F)),s[l+1]=Math.min(255,Math.max(0,s[l+1]+F)),s[l+2]=Math.min(255,Math.max(0,s[l+2]+F))}else{let f=(Math.random()-.5)*50;s[l]=Math.min(255,Math.max(0,s[l]+f)),s[l+1]=Math.min(255,Math.max(0,s[l+1]+f)),s[l+2]=Math.min(255,Math.max(0,s[l+2]+f))}e.putImageData(r,0,0)}drawBackground(){let{ctx:e,width:t,height:i,theme:o}=this;e.fillStyle=o.bg,e.fillRect(0,0,t,i)}drawTitle(){let{ctx:e,config:t,theme:i,padding:o}=this;t.title&&(e.fillStyle=i.textPrimary,e.font=`600 18px ${i.fontFamily}`,e.textAlign="left",e.fillText(t.title,o.left,32),t.subtitle&&(e.fillStyle=i.textSecondary,e.font=`400 13px ${i.fontFamily}`,e.fillText(t.subtitle,o.left,50)))}drawSource(){let{ctx:e,config:t,theme:i,width:o,height:a}=this,n=`Source: ${t.source||"DropThe"} | dropthe.org`;e.fillStyle=i.textSource,e.font=`400 10px ${i.monoFamily}`,e.textAlign="left",e.fillText(n,this.padding.left,a-12)}createGradient(e,t,i,o){let a=this.ctx.createLinearGradient(e,t,e,i);return a.addColorStop(0,o[0]),a.addColorStop(1,o[1]),a}fillLavaGradient(e,t,i,o,a,n=0){let{ctx:r}=this,s=C=>{let d=Math.sin(n*127.1+C*311.7)*43758.5453;return d-Math.floor(d)};r.fillStyle=a[0],r.fill();let g=4;for(let C=0;C<g;C++){let d=e+i*(.15+s(C*3)*.7),l=t+o*(.15+s(C*3+1)*.7),f=Math.max(i,o)*(.4+s(C*3+2)*.5),h=C%2,v=a[h],w=r.createRadialGradient(d,l,0,d,l,f);w.addColorStop(0,v),w.addColorStop(.6,v+"88"),w.addColorStop(1,v+"00"),r.save(),r.fillStyle=w,r.globalCompositeOperation="source-atop",r.fillRect(e-f,t-f,i+f*2,o+f*2),r.restore()}}animate(e,t=800){if(this.config.animate===!1){e(1),this.drawGrain();return}let i=performance.now(),o=a=>{let n=a-i,r=Math.min(n/t,1),s=1-Math.pow(1-r,3);this.animProgress=s,e(s),r<1?this.animFrame=requestAnimationFrame(o):this.drawGrain()};this.animFrame=requestAnimationFrame(o)}destroy(){this.animFrame&&cancelAnimationFrame(this.animFrame),this.canvas.remove()}toPNG(){return this.canvas.toDataURL("image/png")}};var U=class extends W{barConfig;constructor(e,t){super(e,t),this.barConfig={showValues:!0,valuesOnBar:!1,barRadius:6,...t},this.render()}render(){this.animate(e=>this.draw(e))}isActive(e,t){let{data:i,highlightTop:o,highlightLine:a}=this.barConfig;return a!==void 0?t===a-1:o!==void 0?t<o:i.some(n=>n.highlight)?!!e.highlight:!0}hasContrast(){let{data:e,highlightTop:t,highlightLine:i}=this.barConfig;return i!==void 0?!0:t!==void 0?t<e.length:e.some(o=>o.highlight)}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n,barConfig:r}=this,{data:s,valuePrefix:g="",valueSuffix:C="",showValues:d,valuesOnBar:l,barRadius:f}=r;this.drawBackground(),this.drawTitle();let h=n.top+8,v=o-n.bottom-20,w=n.left,S=i-n.right,F=S-w,D=v-h,y=s.length,c=Math.max(12,F*.08),p=(y-1)*c,u=Math.min(80,(F-p)/y),b=y*u+p,x=w+(F-b)/2,m=Math.max(...s.map(P=>P.value)),k=D/(m*1.15),L=this.hasContrast();t.strokeStyle=a.grid,t.lineWidth=1;for(let P=1;P<=3;P++){let M=v-D*P/4;t.beginPath(),t.moveTo(w,M),t.lineTo(S,M),t.stroke()}t.beginPath(),t.moveTo(w,v),t.lineTo(S,v),t.stroke(),s.forEach((P,M)=>{let T=x+M*(u+c),H=this.isActive(P,M);t.fillStyle=L&&!H?a.textSource:a.textSecondary,t.font=`400 11px ${a.monoFamily}`,t.textAlign="center",t.fillText(this.truncateLabel(P.label,u+c*.6),T+u/2,v+16)}),this.drawSource(),this.snapshotBackground(),s.forEach((P,M)=>{let T=x+M*(u+c),H=P.value*k*e,G=v-H;if(H<=0)return;let A=this.isActive(P,M),E=Math.min(f||6,H/2);if(t.beginPath(),t.moveTo(T+E,G),t.lineTo(T+u-E,G),t.quadraticCurveTo(T+u,G,T+u,G+E),t.lineTo(T+u,G+H),t.lineTo(T,G+H),t.lineTo(T,G+E),t.quadraticCurveTo(T,G,T+E,G),t.closePath(),L&&!A){let B=a.name==="midnight";t.fillStyle=B?"rgba(255,255,240,0.08)":"rgba(0,0,0,0.06)",t.fill(),t.strokeStyle=B?"rgba(255,255,240,0.06)":"rgba(0,0,0,0.04)",t.lineWidth=1,t.stroke()}else{t.save(),t.clip();let B=a.gradients[M%a.gradients.length];t.fillStyle=B[0],t.fillRect(T,G,u,H),this.drawLavaBlobs(T,G,u,H,B,M),t.restore()}if(d&&e>.3){let B=Math.min(1,(e-.3)*1.43);t.globalAlpha=B;let R=Math.min(1,(e-.3)/.7),V=1-Math.pow(1-R,2),I=g+this.formatNumber(P.value*V)+C;if(l&&H>35){let O=a.name==="midnight";t.fillStyle=L&&!A?O?"rgba(255,255,240,0.25)":"rgba(0,0,0,0.2)":O?"rgba(10,10,15,0.75)":"rgba(255,255,255,0.9)",t.font=A?`700 16px ${a.fontFamily}`:`600 14px ${a.fontFamily}`,t.textAlign="center",t.fillText(I,T+u/2,G+22)}else{if(A){let O=a.gradients[M%a.gradients.length],N=t.createLinearGradient(T,0,T+u,0);N.addColorStop(0,O[0]),N.addColorStop(1,O[1]),t.fillStyle=N,t.font=`700 18px ${a.fontFamily}`}else t.fillStyle=a.textSource,t.font=`500 14px ${a.fontFamily}`;t.textAlign="center",t.fillText(I,T+u/2,G-12)}t.globalAlpha=1}})}drawLavaBlobs(e,t,i,o,a,n){let{ctx:r}=this,s=g=>{let C=Math.sin(n*127.1+g*311.7)*43758.5453;return C-Math.floor(C)};for(let g=0;g<5;g++){let C=e+i*(.1+s(g*3)*.8),d=t+o*(.1+s(g*3+1)*.8),l=Math.max(i,o)*(.35+s(g*3+2)*.55),f=a[g%a.length],h=r.createRadialGradient(C,d,0,C,d,l);h.addColorStop(0,f),h.addColorStop(.5,f+"99"),h.addColorStop(1,f+"00"),r.globalCompositeOperation="source-atop",r.fillStyle=h,r.fillRect(e,t,i,o),r.globalCompositeOperation="source-over"}}formatNumber(e){return e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}truncateLabel(e,t){let{ctx:i,theme:o}=this;if(i.font=`400 11px ${o.monoFamily}`,i.measureText(e).width<=t)return e;let a=e.split(" ");if(a.length>1&&i.measureText(a[0]).width<=t)return a[0];let n=e;for(;n.length>3&&i.measureText(n+"..").width>t;)n=n.slice(0,-1);return n+".."}};var J=class extends W{lineConfig;constructor(e,t){super(e,t),this.lineConfig={showDots:!0,showArea:!0,...t},this.render()}render(){this.animate(e=>this.draw(e))}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n,lineConfig:r}=this,{data:s,showDots:g,showArea:C,yPrefix:d="",ySuffix:l=""}=r;this.drawBackground(),this.drawTitle();let f=n.top+8,h=o-n.bottom-20,v=n.left+50,w=i-n.right,S=w-v,F=h-f,D=s.flatMap(M=>M.data.map(T=>T.y)),y=Math.min(...D)*.95,p=Math.max(...D)*1.05-y||1,u=s[0]?.data.map(M=>Number(M.x))||[],b=Math.min(...u),m=Math.max(...u)-b||1,k=5;t.strokeStyle=a.grid,t.lineWidth=1;for(let M=0;M<=k;M++){let T=M/k,H=h-T*F,G=y+T*p;t.beginPath(),t.moveTo(v,H),t.lineTo(w,H),t.stroke(),t.fillStyle=a.textSecondary,t.font=`400 10px ${a.monoFamily}`,t.textAlign="right",t.fillText(d+this.formatVal(G)+l,v-8,H+4)}let L=Math.min(u.length,8),P=Math.max(1,Math.floor(u.length/L));t.fillStyle=a.textSecondary,t.font=`400 10px ${a.monoFamily}`,t.textAlign="center";for(let M=0;M<u.length;M+=P){let T=v+(u[M]-b)/m*S;t.fillText(String(u[M]),T,h+16)}if(t.strokeStyle=a.textSecondary+"40",t.lineWidth=1,t.beginPath(),t.moveTo(v,h),t.lineTo(w,h),t.stroke(),s.length>1){let M=v,T=h+32;s.forEach((H,G)=>{let A=H.color||a.gradients[G%a.gradients.length][0];t.fillStyle=A,t.fillRect(M,T-4,12,3),t.fillStyle=a.textSecondary,t.font=`400 10px ${a.monoFamily}`,t.textAlign="left",t.fillText(H.label,M+16,T),M+=t.measureText(H.label).width+32})}this.drawSource(),this.snapshotBackground(),s.forEach((M,T)=>{let H=M.color||a.gradients[T%a.gradients.length][0],G=a.gradients[T%a.gradients.length],A=[];M.data.forEach(R=>{let V=v+(Number(R.x)-b)/m*S,I=h-(R.y-y)/p*F;A.push([V,I])});let E=Math.max(1,Math.floor(A.length*e)),B=A.slice(0,E);if(C&&B.length>1){t.save(),t.beginPath(),t.moveTo(B[0][0],h),B.forEach(([X,Y])=>t.lineTo(X,Y)),t.lineTo(B[B.length-1][0],h),t.closePath(),t.clip();let R=t.createLinearGradient(0,f,0,h);R.addColorStop(0,G[0]+"50"),R.addColorStop(1,G[0]+"05"),t.fillStyle=R,t.fillRect(v,f,S,F);let V=B[0][0],O=B[B.length-1][0]-V,N=6;for(let X=0;X<N;X++){let Y=Math.sin(T*127.1+X*311.7)*43758.5453,nt=Y-Math.floor(Y),q=Math.sin(T*127.1+(X*3+1)*311.7)*43758.5453,it=q-Math.floor(q),K=Math.sin(T*127.1+(X*3+2)*311.7)*43758.5453,ft=K-Math.floor(K),ct=V+O*(.05+nt*.9),dt=f+F*(.2+it*.6),mt=F*(.3+ft*.4),ot=G[X%G.length],et=t.createRadialGradient(ct,dt,0,ct,dt,mt);et.addColorStop(0,ot+"60"),et.addColorStop(.5,ot+"30"),et.addColorStop(1,ot+"00"),t.fillStyle=et,t.fillRect(v,f,S,F)}t.restore()}if(B.length>1){t.beginPath(),t.moveTo(B[0][0],B[0][1]);for(let R=1;R<B.length;R++)t.lineTo(B[R][0],B[R][1]);t.strokeStyle=H,t.lineWidth=2.5,t.lineJoin="round",t.lineCap="round",t.stroke()}if(g&&e>.8){let R=(e-.8)*5;t.globalAlpha=R,B.forEach(([V,I])=>{t.beginPath(),t.arc(V,I,3,0,Math.PI*2),t.fillStyle=H,t.fill(),t.strokeStyle=a.bg,t.lineWidth=1.5,t.stroke()}),t.globalAlpha=1}})}formatVal(e){return Math.abs(e)>=1e12?(e/1e12).toFixed(1)+"T":Math.abs(e)>=1e9?(e/1e9).toFixed(1)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(1)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(0)}};var _=class extends W{hbarConfig;constructor(e,t){let i=t.barHeight||36,o=Math.max(300,t.data.length*(i+8)+100);t.height=t.height||o,super(e,t),this.hbarConfig={barHeight:i,valuesOnBar:!1,showRank:!1,...t},this.render()}render(){this.animate(e=>this.draw(e))}isActive(e,t){let{data:i,highlightTop:o,highlightLine:a,showRank:n}=this.hbarConfig;return a!==void 0?t===a-1:o!==void 0?t<o:n?t<3:i.some(r=>r.highlight)?!!e.highlight:!0}hasContrast(){let{data:e,highlightTop:t,highlightLine:i,showRank:o}=this.hbarConfig;return i!==void 0?!0:t!==void 0?t<e.length:o?e.length>3:e.some(a=>a.highlight)}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n,hbarConfig:r}=this,{data:s,valuePrefix:g="",valueSuffix:C="",barHeight:d=36,valuesOnBar:l,showRank:f}=r;this.drawBackground(),this.drawTitle();let h=n.top+8,v=f?36:0,S=n.left+v+120,D=i-n.right-70-S,y=8,c=Math.max(...s.map(u=>u.value)),p=this.hasContrast();s.forEach((u,b)=>{let x=h+b*(d+y),m=this.isActive(u,b);if(f){let k=n.left,L=x+d/2;if(m){let P=a.gradients[b%a.gradients.length],M=26,T=18,H=t.createLinearGradient(k,L-T/2,k+M,L-T/2);H.addColorStop(0,P[0]),H.addColorStop(1,P[1]),t.beginPath(),t.roundRect(k,L-T/2,M,T,9),t.fillStyle=H,t.fill(),t.fillStyle=a.name==="midnight"?"rgba(10,10,15,0.8)":"rgba(255,255,255,0.9)",t.font=`700 10px ${a.fontFamily}`,t.textAlign="center",t.fillText("#"+(b+1),k+M/2,L+3.5)}else t.fillStyle=a.textSource,t.font=`400 10px ${a.monoFamily}`,t.textAlign="center",t.fillText("#"+(b+1),k+13,L+4)}t.fillStyle=p&&!m?a.textSource:a.textSecondary,t.font=m?`500 12px ${a.fontFamily}`:`400 12px ${a.fontFamily}`,t.textAlign="right",t.fillText(u.label,S-12,x+d/2+4)}),this.drawSource(),this.snapshotBackground(),s.forEach((u,b)=>{let x=h+b*(d+y),m=u.value/c*D*e;if(m<=0)return;let k=this.isActive(u,b),L=a.gradients[b%a.gradients.length],P=Math.min(4,m/2);if(t.beginPath(),t.moveTo(S,x),t.lineTo(S+m-P,x),t.quadraticCurveTo(S+m,x,S+m,x+P),t.lineTo(S+m,x+d-P),t.quadraticCurveTo(S+m,x+d,S+m-P,x+d),t.lineTo(S,x+d),t.closePath(),p&&!k){let M=a.name==="midnight";t.fillStyle=M?"rgba(255,255,240,0.08)":"rgba(0,0,0,0.06)",t.fill(),t.strokeStyle=M?"rgba(255,255,240,0.06)":"rgba(0,0,0,0.04)",t.lineWidth=1,t.stroke()}else t.save(),t.clip(),t.fillStyle=L[0],t.fillRect(S,x,m,d),this.drawLavaBlobs(S,x,m,d,L,b),t.restore();if(e>.3){let M=Math.min(1,(e-.3)*1.43);t.globalAlpha=M;let T=Math.min(1,(e-.3)/.7),H=1-Math.pow(1-T,2),G=g+this.formatNumber(u.value*H)+C;if(l&&m>70){let A=a.name==="midnight";t.fillStyle=p&&!k?A?"rgba(255,255,240,0.25)":"rgba(0,0,0,0.2)":A?"rgba(10,10,15,0.75)":"rgba(255,255,255,0.9)",t.font=k?`700 14px ${a.fontFamily}`:`600 12px ${a.fontFamily}`,t.textAlign="right",t.fillText(G,S+m-10,x+d/2+5)}else{if(k){let A=t.createLinearGradient(S+m+8,0,S+m+70,0);A.addColorStop(0,L[0]),A.addColorStop(1,L[1]),t.fillStyle=A,t.font=`700 14px ${a.fontFamily}`}else t.fillStyle=a.textSource,t.font=`400 12px ${a.fontFamily}`;t.textAlign="left",t.fillText(G,S+m+8,x+d/2+5)}t.globalAlpha=1}})}drawLavaBlobs(e,t,i,o,a,n){let{ctx:r}=this,s=g=>{let C=Math.sin(n*127.1+g*311.7)*43758.5453;return C-Math.floor(C)};for(let g=0;g<6;g++){let C=e+i*(.05+s(g*3)*.9),d=t+o*(.1+s(g*3+1)*.8),l=Math.max(i*.3,o)*(.4+s(g*3+2)*.5),f=a[g%a.length],h=r.createRadialGradient(C,d,0,C,d,l);h.addColorStop(0,f),h.addColorStop(.5,f+"99"),h.addColorStop(1,f+"00"),r.globalCompositeOperation="source-atop",r.fillStyle=h,r.fillRect(e,t,i,o),r.globalCompositeOperation="source-over"}}formatNumber(e){return e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}};var z=class extends W{statConfig;constructor(e,t){t.height=t.height||200,super(e,t),this.statConfig=t,this.render()}render(){this.animate(e=>this.draw(e),600)}draw(e){let{ctx:t,width:i,height:o,theme:a,statConfig:n}=this,{value:r,label:s,delta:g,deltaPositive:C,prefix:d="",suffix:l=""}=n.data;this.drawBackground();let f=typeof r=="number"?r:parseFloat(String(r)),h;if(!isNaN(f)&&typeof r=="number"){let c=f*e;h=d+this.formatBigNumber(c)+l}else h=d+String(r)+l;if(this.config.title&&(t.fillStyle=a.textSecondary,t.font=`400 11px ${a.monoFamily}`,t.textAlign="left",t.fillText(this.config.title.toUpperCase(),this.padding.left,24)),t.fillStyle=a.textSecondary,t.font=`400 14px ${a.fontFamily}`,t.textAlign="center",t.fillText(s,i/2,o/2+25),g&&e>.7){let c=(e-.7)*3.3;t.globalAlpha=Math.min(1,c);let u=(C!==void 0?C:g.startsWith("+"))?"#10b981":"#ef4444";t.fillStyle=u+"22";let b=t.measureText(g).width+16,x=i/2-b/2,m=o/2+38;t.beginPath(),t.roundRect(x,m,b,22,11),t.fill(),t.fillStyle=u,t.font=`600 11px ${a.monoFamily}`,t.textAlign="center",t.fillText(g,i/2,m+15),t.globalAlpha=1}this.drawSource(),this.snapshotBackground(),t.font=`700 48px ${a.fontFamily}`,t.textAlign="center";let v=t.measureText(h),w=i/2,S=o/2-5,F=a.highlightGradient,D=v.width,y=t.createLinearGradient(w-D/2,0,w+D/2,0);y.addColorStop(0,F[0]),y.addColorStop(1,F[1]),t.fillStyle=y,t.fillText(h,w,S)}formatBigNumber(e){return e>=1e12?(e/1e12).toFixed(1)+"T":e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):Math.round(e).toLocaleString()}};var j=class extends W{radarConfig;constructor(e,t){super(e,t),this.radarConfig=t,this.render()}render(){this.animate(e=>this.draw(e))}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n}=this,{data:r}=this.radarConfig,{axes:s,datasets:g,maxValue:C}=r,d=s.length;if(d<3)return;this.drawBackground(),this.drawTitle();let l=i/2,f=n.top+(o-n.top-n.bottom)/2+8,h=Math.min((i-n.left-n.right)/2-40,(o-n.top-n.bottom)/2-30),v=C||Math.max(...g.flatMap(y=>y.values))*1.1,w=Math.PI*2/d,S=-Math.PI/2,F=5;t.strokeStyle=a.grid,t.lineWidth=1;for(let y=1;y<=F;y++){let c=h*y/F;t.beginPath();for(let p=0;p<=d;p++){let u=S+p*w,b=l+Math.cos(u)*c,x=f+Math.sin(u)*c;p===0?t.moveTo(b,x):t.lineTo(b,x)}t.stroke()}for(let y=0;y<d;y++){let c=S+y*w,p=l+Math.cos(c)*h,u=f+Math.sin(c)*h;t.beginPath(),t.moveTo(l,f),t.lineTo(p,u),t.stroke()}t.fillStyle=a.textSecondary,t.font=`500 11px ${a.monoFamily}`;for(let y=0;y<d;y++){let c=S+y*w,p=h+18,u=l+Math.cos(c)*p,b=f+Math.sin(c)*p;Math.abs(Math.cos(c))<.1?t.textAlign="center":Math.cos(c)>0?t.textAlign="left":t.textAlign="right",t.textBaseline=Math.abs(Math.sin(c))<.1?"middle":Math.sin(c)<0?"bottom":"top",t.fillText(s[y],u,b)}this.drawSource(),this.snapshotBackground();let D=g.some(y=>y.highlight);if(g.forEach((y,c)=>{let p=!D||y.highlight,u=[];for(let b=0;b<d;b++){let x=S+b*w,k=(y.values[b]||0)/v*h*e;u.push([l+Math.cos(x)*k,f+Math.sin(x)*k])}if(t.beginPath(),u.forEach((b,x)=>{x===0?t.moveTo(b[0],b[1]):t.lineTo(b[0],b[1])}),t.closePath(),p){let b=y.highlight?a.highlightGradient:a.gradients[c%a.gradients.length],x=t.createLinearGradient(l-h,f-h,l+h,f+h);x.addColorStop(0,b[0]+"55"),x.addColorStop(1,b[1]+"55"),t.fillStyle=x,t.fill();let m=t.createLinearGradient(l-h,f-h,l+h,f+h);m.addColorStop(0,b[0]),m.addColorStop(1,b[1]),t.strokeStyle=m,t.lineWidth=2.5,t.stroke(),u.forEach(k=>{t.beginPath(),t.arc(k[0],k[1],4,0,Math.PI*2),t.fillStyle=b[0],t.fill()})}else{let b=a.name==="midnight";t.fillStyle=b?"rgba(255,255,240,0.04)":"rgba(0,0,0,0.03)",t.fill(),t.strokeStyle=b?"rgba(255,255,240,0.15)":"rgba(0,0,0,0.1)",t.lineWidth=1.5,t.stroke()}}),g.length>1){let y=o-n.bottom+4,c=n.left;t.font=`500 11px ${a.fontFamily}`,g.forEach((p,u)=>{let b=!D||p.highlight,x=p.highlight?a.highlightGradient:a.gradients[u%a.gradients.length];t.fillStyle=b?x[0]:a.textSource,t.fillRect(c,y-4,12,3),t.fillStyle=b?a.textSecondary:a.textSource,t.textAlign="left",t.fillText(p.label,c+16,y),c+=t.measureText(p.label).width+36})}}};var Q=class extends W{donutConfig;constructor(e,t){super(e,t),this.donutConfig={ringWidth:.35,...t},this.render()}render(){this.animate(e=>this.draw(e))}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n}=this;this.drawBackground(),this.drawTitle();let r=i/2,s=n.top+(o-n.top-n.bottom)/2+8,g=Math.min((i-n.left-n.right)/2-20,(o-n.top-n.bottom)/2-20),C=this.donutConfig.ringWidth||.35,d=g*(1-C);this.drawSource(),this.snapshotBackground(),this.donutConfig.gauge?this.drawGauge(r,s,g,d,e):this.drawDonut(r,s,g,d,e)}drawGauge(e,t,i,o,a){let{ctx:n,theme:r}=this,s=Math.min(100,Math.max(0,this.donutConfig.gaugeValue||0)),g=Math.PI*1.5,C=Math.PI*.75,d=C+g,l=C+g*(s/100)*a;n.beginPath(),n.arc(e,t,i,C,d),n.arc(e,t,o,d,C,!0),n.closePath();let f=r.name==="midnight";if(n.fillStyle=f?"rgba(255,255,240,0.05)":"rgba(0,0,0,0.04)",n.fill(),s>0&&a>0){n.beginPath(),n.arc(e,t,i,C,l),n.arc(e,t,o,l,C,!0),n.closePath(),n.save(),n.clip();let v=r.highlightGradient,w=n.createLinearGradient(e-i,t-i,e+i,t+i);w.addColorStop(0,v[0]),w.addColorStop(1,v[1]),n.fillStyle=w,n.fillRect(e-i,t-i,i*2,i*2),this.drawLavaInArc(e,t,i,v),n.restore()}let h=Math.min(1,(a-.2)/.6);if(h>0){let v=Math.round(s*Math.min(1,h));n.globalAlpha=Math.min(1,h*1.5);let w=r.highlightGradient,S=n.createLinearGradient(e-30,t,e+30,t);S.addColorStop(0,w[0]),S.addColorStop(1,w[1]),n.fillStyle=S,n.font=`700 ${Math.round(i*.45)}px ${r.fontFamily}`,n.textAlign="center",n.textBaseline="middle",n.fillText(v+"",e,t-6),this.donutConfig.centerLabel&&(n.fillStyle=r.textSecondary,n.font=`400 13px ${r.fontFamily}`,n.fillText(this.donutConfig.centerLabel,e,t+i*.25)),n.globalAlpha=1}}drawDonut(e,t,i,o,a){let{ctx:n,theme:r}=this,{data:s}=this.donutConfig,g=s.reduce((l,f)=>l+f.value,0),C=s.some(l=>l.highlight),d=-Math.PI/2;if(s.forEach((l,f)=>{let h=l.value/g*Math.PI*2*a,v=d+h,w=!C||l.highlight;if(n.beginPath(),n.arc(e,t,i,d,v),n.arc(e,t,o,v,d,!0),n.closePath(),w){let S=l.highlight?r.highlightGradient:r.gradients[f%r.gradients.length];n.save(),n.clip();let F=n.createLinearGradient(e+Math.cos(d+h/2)*i*.5,t+Math.sin(d+h/2)*i*.5,e-Math.cos(d+h/2)*i*.5,t-Math.sin(d+h/2)*i*.5);F.addColorStop(0,S[0]),F.addColorStop(1,S[1]),n.fillStyle=F,n.fillRect(e-i,t-i,i*2,i*2),this.drawLavaInArc(e,t,i,S),n.restore()}else{let S=r.name==="midnight";n.fillStyle=S?"rgba(255,255,240,0.06)":"rgba(0,0,0,0.04)",n.fill()}if(n.strokeStyle=r.bg,n.lineWidth=2,n.stroke(),a>.7&&h>.15){let S=Math.min(1,(a-.7)/.3);n.globalAlpha=S;let F=d+h/2,D=i+14,y=e+Math.cos(F)*D,c=t+Math.sin(F)*D,p=Math.cos(F)>0;n.fillStyle=w?r.textPrimary:r.textSource,n.font=`500 11px ${r.monoFamily}`,n.textAlign=p?"left":"right",n.textBaseline="middle";let u=Math.round(l.value/g*100);n.fillText(`${l.label} ${u}%`,y+(p?4:-4),c),n.globalAlpha=1}d=v}),this.donutConfig.centerValue&&a>.5){let l=Math.min(1,(a-.5)*2);n.globalAlpha=l;let f=r.highlightGradient,h=n.createLinearGradient(e-30,t,e+30,t);h.addColorStop(0,f[0]),h.addColorStop(1,f[1]),n.fillStyle=h,n.font=`700 ${Math.round(o*.55)}px ${r.fontFamily}`,n.textAlign="center",n.textBaseline="middle",n.fillText(this.donutConfig.centerValue,e,t-4),this.donutConfig.centerLabel&&(n.fillStyle=r.textSecondary,n.font=`400 12px ${r.fontFamily}`,n.fillText(this.donutConfig.centerLabel,e,t+o*.35)),n.globalAlpha=1}}drawLavaInArc(e,t,i,o){let{ctx:a}=this;for(let n=0;n<4;n++){let r=n/4*Math.PI*2+.7,s=e+Math.cos(r)*i*.5,g=t+Math.sin(r)*i*.5,C=i*(.4+n*.15),d=o[n%o.length],l=a.createRadialGradient(s,g,0,s,g,C);l.addColorStop(0,d),l.addColorStop(.5,d+"88"),l.addColorStop(1,d+"00"),a.globalCompositeOperation="source-atop",a.fillStyle=l,a.fillRect(e-i,t-i,i*2,i*2),a.globalCompositeOperation="source-over"}}};var Z=class extends W{heatConfig;constructor(e,t){super(e,t),this.heatConfig={showValues:!1,cellRadius:4,...t},this.padding={top:60,right:24,bottom:24,left:100},this.render()}render(){this.animate(e=>this.draw(e),600)}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n}=this,{data:r,showValues:s,cellRadius:g}=this.heatConfig,{rows:C,cols:d,values:l}=r;this.drawBackground(),this.drawTitle();let f=n.top+24,h=o-n.bottom,v=n.left,S=i-n.right-v,F=h-f,D=S/d.length,y=F/C.length,c=2,p=Math.min(g||4,D/4,y/4),u=l.flat(),b=Math.min(...u),m=Math.max(...u)-b||1;t.fillStyle=a.textSecondary,t.font=`500 10px ${a.monoFamily}`,t.textAlign="center",d.forEach((k,L)=>{let P=v+L*D+D/2;t.fillText(k,P,f-8)}),t.textAlign="right",C.forEach((k,L)=>{let P=f+L*y+y/2+4;t.fillText(k,v-10,P)}),this.drawSource(),this.snapshotBackground(),C.forEach((k,L)=>{d.forEach((P,M)=>{let T=l[L]?.[M]??0,G=(T-b)/m*e,A=v+M*D+c/2,E=f+L*y+c/2,B=D-c,R=y-c;if(t.beginPath(),t.moveTo(A+p,E),t.lineTo(A+B-p,E),t.quadraticCurveTo(A+B,E,A+B,E+p),t.lineTo(A+B,E+R-p),t.quadraticCurveTo(A+B,E+R,A+B-p,E+R),t.lineTo(A+p,E+R),t.quadraticCurveTo(A,E+R,A,E+R-p),t.lineTo(A,E+p),t.quadraticCurveTo(A,E,A+p,E),t.closePath(),G<.05){let V=a.name==="midnight";t.fillStyle=V?"rgba(255,255,240,0.03)":"rgba(0,0,0,0.02)",t.fill()}else{t.save(),t.clip();let V=Math.min(a.gradients.length-1,Math.floor(G*a.gradients.length*.99)),I=a.gradients[V],O=t.createLinearGradient(A,E,A+B,E+R);if(O.addColorStop(0,I[0]+this.alphaHex(G)),O.addColorStop(1,I[1]+this.alphaHex(G)),t.fillStyle=O,t.fillRect(A,E,B,R),G>.6){let N=it=>{let K=Math.sin(L*127.1+M*311.7+it*43.7)*43758.5453;return K-Math.floor(K)},X=A+B*(.2+N(0)*.6),Y=E+R*(.2+N(1)*.6),nt=Math.max(B,R)*.6,q=t.createRadialGradient(X,Y,0,X,Y,nt);q.addColorStop(0,I[1]),q.addColorStop(.5,I[1]+"66"),q.addColorStop(1,I[1]+"00"),t.globalCompositeOperation="source-atop",t.fillStyle=q,t.fillRect(A,E,B,R),t.globalCompositeOperation="source-over"}t.restore()}if(s&&e>.5&&D>30&&y>20){let V=Math.min(1,(e-.5)*2);t.globalAlpha=V,t.fillStyle=G>.5?a.bg:a.textSecondary,t.font=`500 ${Math.min(11,y*.4)}px ${a.monoFamily}`,t.textAlign="center",t.textBaseline="middle",t.fillText(this.formatCellValue(T),A+B/2,E+R/2),t.globalAlpha=1}})})}alphaHex(e){return Math.round(e*220+35).toString(16).padStart(2,"0")}formatCellValue(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":Number.isInteger(e)?e+"":e.toFixed(1)}};var tt=class extends W{bumpConfig;constructor(e,t){super(e,t),this.bumpConfig=t,this.padding={top:60,right:90,bottom:48,left:90},this.render()}render(){this.animate(e=>this.draw(e),1e3)}isActive(e,t){let{data:i,highlightTop:o}=this.bumpConfig;return o!==void 0?e.ranks[e.ranks.length-1]<=o:i.some(a=>a.highlight)?!!e.highlight:!0}hasContrast(){let{data:e,highlightTop:t}=this.bumpConfig;return t!==void 0?!0:e.some(i=>i.highlight)}draw(e){let{ctx:t,width:i,height:o,theme:a,padding:n}=this,{data:r,periods:s}=this.bumpConfig;this.drawBackground(),this.drawTitle();let g=r[0]?.ranks.length||0,C=Math.max(...r.flatMap(c=>c.ranks)),d=n.top+8,l=o-n.bottom-20,f=n.left,h=i-n.right,v=h-f,w=l-d,S=c=>d+(c-1)/(C-1||1)*w,F=c=>f+c/(g-1||1)*v;t.strokeStyle=a.grid,t.lineWidth=1;for(let c=1;c<=C;c++){let p=S(c);t.beginPath(),t.moveTo(f-8,p),t.lineTo(h+8,p),t.stroke(),t.fillStyle=a.textSource,t.font=`400 10px ${a.monoFamily}`,t.textAlign="right",t.fillText("#"+c,f-14,p+4)}t.fillStyle=a.textSecondary,t.font=`500 11px ${a.monoFamily}`,t.textAlign="center";for(let c=0;c<g;c++){let p=s?.[c]||c+1+"";t.fillText(p,F(c),l+20)}this.drawSource(),this.snapshotBackground();let D=this.hasContrast();[...r.map((c,p)=>({...c,idx:p}))].sort((c,p)=>{let u=this.isActive(c,c.idx)?1:0,b=this.isActive(p,p.idx)?1:0;return u-b}).forEach(c=>{let p=this.isActive(c,c.idx),u=c.highlight?a.highlightGradient:a.gradients[c.idx%a.gradients.length],b=Math.max(1,Math.floor(g*e)),x=[];for(let m=0;m<b;m++)x.push([F(m),S(c.ranks[m])]);if(b<g){let m=g*e-b;if(m>0&&b>0){let k=F(b-1),L=S(c.ranks[b-1]),P=F(b),M=S(c.ranks[b]);x.push([k+(P-k)*m,L+(M-L)*m])}}if(!(x.length<2)){t.beginPath(),t.moveTo(x[0][0],x[0][1]);for(let m=1;m<x.length;m++){let[k,L]=x[m-1],[P,M]=x[m],T=(k+P)/2;t.bezierCurveTo(T,L,T,M,P,M)}if(D&&!p){let m=a.name==="midnight";t.strokeStyle=m?"rgba(255,255,240,0.1)":"rgba(0,0,0,0.08)",t.lineWidth=2}else{let m=t.createLinearGradient(x[0][0],0,x[x.length-1][0],0);m.addColorStop(0,u[0]),m.addColorStop(1,u[1]),t.strokeStyle=m,t.lineWidth=3}if(t.stroke(),x.forEach((m,k)=>{if(t.beginPath(),t.arc(m[0],m[1],p?5:3,0,Math.PI*2),D&&!p){let L=a.name==="midnight";t.fillStyle=L?"rgba(255,255,240,0.12)":"rgba(0,0,0,0.08)"}else t.fillStyle=u[k<x.length/2?0:1];t.fill()}),x.length>0){let[m,k]=x[0];t.fillStyle=D&&!p?a.textSource:a.textSecondary,t.font=D&&!p?`400 10px ${a.monoFamily}`:`500 11px ${a.monoFamily}`,t.textAlign="right",t.textBaseline="middle",t.fillText(c.label,m-12,k)}if(e>.9&&x.length>=g){let m=Math.min(1,(e-.9)*10);t.globalAlpha=m;let[k,L]=x[x.length-1];if(t.textAlign="left",p){let P=t.createLinearGradient(k,L-8,k+60,L+8);P.addColorStop(0,u[0]),P.addColorStop(1,u[1]),t.fillStyle=P,t.font=`600 12px ${a.fontFamily}`}else t.fillStyle=a.textSource,t.font=`400 10px ${a.monoFamily}`;t.fillText(c.label,k+12,L),t.globalAlpha=1}}})}};function gt($,e){switch(e.type){case"bar":return new U($,e);case"line":return new J($,e);case"hbar":return new _($,e);case"stat":return new z($,e);case"radar":return new j($,e);case"donut":return new Q($,e);case"heatmap":return new Z($,e);case"bump":return new tt($,e);default:console.error("DropThe Charts: unknown type",e.type)}}function ht(){document.querySelectorAll("[data-dt-chart]").forEach($=>{try{let e=JSON.parse($.getAttribute("data-dt-chart")||"{}");gt($,e)}catch(e){console.error("DropThe Charts: invalid config",e)}})}typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ht):ht());return St(yt);})();
